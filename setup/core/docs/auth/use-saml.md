# Specify Extra SAML Configuration

Here are the steps required to specify extra SAML properties:

>Note: The guided setup will set these Code Dx SAML parameters:
- auth.saml2.identityProviderMetadataPath
- auth.saml2.entityId
- auth.saml2.keystorePassword
- auth.saml2.privateKeyPassword
- auth.hostBasePath

1) Complete the guided setup to determine the setup command(s) for deploying Code Dx on your Kubernetes cluster. End the guided setup by using one of the options to save your setup command to a file.

2) Open your `codedx-extra-props.yaml` file and merge your SAML properties and values. If you do not yet have a `codedx-extra-props.yaml` file, create a new one and add your SAML properties and values.

>Note: You can use multiple `codedx-extra-props.yaml` files, but avoid specifying overlapping configuration that could get lost at install-time. For example, do not specify codedxProps.extra sections in multiple files.

```
codedxProps:
  extra:
  - type: values
    key: codedx-extra-saml-props
    values:
    - "ui.auth.samlLabel = Keycloak"
    - "auth.autoExternalRedirect = false"
```

>Note: Use spaces for the indents shown above. Indenting with tab characters will cause a failure at install-time.

3) Locate the run-setup.ps1 file generated by guided-setup.ps1 and make a copy named run-setup-custom.ps1. Edit run-setup-custom.ps1 by appending the following parameter to the setup.ps1 command line, specifying the path to your codedx-extra-props.yaml file:

```
 -extraCodeDxValuesPaths '/path/to/codedx-extra-props.yaml'
```

4) Follow the instructions provided at the end of guided-setup.ps1, but replace the run-setup.ps1 reference with run-setup-custom.ps1:

```
pwsh "/path/to/run-prereqs.ps1"
pwsh "/path/to/run-setup-custom.ps1"
```

>Note: You will have a run-prereqs.ps1 file if you selected the Save command with Kubernetes secret(s) option when saving your setup command.
